---
import type { CollectionEntry } from "astro:content";
import BaseHead from "../components/BaseHead.astro";
import Footer from "../components/Footer.astro";
import FormattedDate from "../components/FormattedDate.astro";
import Header from "../components/Header.astro";

type Props = CollectionEntry<"blog">["data"];

const { title, description, pubDate, updatedDate } = Astro.props;
---

<html lang="en">
    <head>
        <BaseHead title={title} description={description} />
    </head>

    <body class="min-h-dvh flex flex-col">
        <Header />
        <main
            class="flex-1 px-3 font-mono max-w-[80ch] w-full mx-auto overflow-hidden"
        >
            <article>
                <header class="flex gap-2 pb-5">
                    <FormattedDate date={pubDate} />
                    <nav>
                        <ul class="header-links gap-2">
                            <li>
                                <a
                                    id="permalink"
                                    class="underline"
                                    href={Astro.url.pathname}
                                >
                                    permalink
                                </a>
                            </li>
                            <li>
                                <a id="go-home" class="underline" href="/">
                                    go home
                                </a>
                            </li>
                        </ul>
                    </nav>
                </header>
                <section class="prose">
                    <slot />
                </section>
            </article>
        </main>
        <Footer spacer />
    </body>
</html>
